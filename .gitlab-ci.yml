stages:
    - build
    - test
    - push
    - deploy


build_Job:
    stage: build
    script:
        - docker build -t todo-react-app:latest .
        - echo "Docker image build successfully"

test_Job:
    stage: test
    script:
        - echo "There is no tests"

push_Job:
    stage: push
    script:
        - docker image tag todo-react-app:latest $dockerUser/todo-react-app:latest
        - echo "$dockerPass" | docker login -u $dockerUser --password-stdin
        - docker push $dockerUser/todo-react-app:latest
        - echo "Image push successfully"

deploy_Job:
    stage: deploy
    script:
        - docker run -d -p 5173:5173 todo-react-app:latest
        - echo "Application running successfully on port of 5173"
        

